---
title: "R Notebook"
output: html_notebook
---

# Unit 1: Intro to Analytics 

## Getting Started in R

```{r}
# Get help on functions
?sqrt

# Get a list of vars in env
ls()
```


## Vectors and DataFrames

```{r}
# Create a vector using c function
country <- c("Brazil", "China", "India", "Switzerland", "USA")
LifeExpectancy <- c(74, 76, 65, 83, 79)

# To display an element of a vec, use [ ]
country[3]

# To create a sequence, use seq
seq(0,100,2)

# Combine vecs into a df structure
CountryData <- data.frame(country, LifeExpectancy)
CountryData

# Now, add a var to this df. Use a $ to link the data
CountryData$Population <- c(199000,1390000, 1240000,7997,318000)

CountryData

# Now, add 2 new countries: Aus and Grc. 
country <- c("Australia", "Greece")
LifeExpectancy <- c(82,81)
Population <- c(23050,11125)

NewCountryData <- data.frame(country, LifeExpectancy, Population)
NewCountryData

# Now, combine CountryData and NewCountryData
AllCountryData <- rbind(CountryData, NewCountryData)
AllCountryData
```

## Loading Data Files

```{r}
getwd()
WHO <- read.csv("WHO.csv")
str(WHO)

summary(WHO)

# Subsetting data to include only countries in EU
?subset
WHO_Europe <- subset(WHO,Region = "Europe")
WHO_Europe

# Now, remove WHO_Europe from environment
rm(WHO_Europe)
ls()

```

## Data Analysis - Summary Stats and Scatterplots

```{r}
mean(WHO$Under15)
sd(WHO$Under15)
summary(WHO$Under15)  #13.12% of pop is under 15 (min) - which one is it?  Japan!
WHO$Country[which.min(WHO$Under15)]

# Which country has max under 15? Niger with 49.99!
WHO$Country[which.max(WHO$Under15)]

# Create a scatterplot of GNI vs. fertility rate
plot(WHO$GNI, WHO$FertilityRate)

# look at countries with a GNI > 10,000 and Fertility Rate > 2.5
outliers <- subset(WHO, GNI > 10000 & FertilityRate > 2.5)
nrow(outliers)

outliers[c("Country", "GNI", "FertilityRate")]


```


This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.